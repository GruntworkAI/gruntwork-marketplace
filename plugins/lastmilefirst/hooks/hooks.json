{
  "description": "Lastmilefirst Overwatch - proactive checks and reminders",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-start.sh",
            "timeout": 10000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "mkdir -p ~/.claude/tmp && echo 'edit' >> ~/.claude/tmp/session-changes.log"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "mkdir -p ~/.claude/tmp && echo 'write' >> ~/.claude/tmp/session-changes.log"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Quick check before finishing: Look at ~/.claude/tmp/session-changes.log to see if files were modified this session. If the file exists and has content, AND there are uncommitted git changes in the current directory, consider suggesting: 'You have uncommitted changes - want me to commit them?' Only mention this once per session, and only if relevant. If no changes or already committed, say nothing about this."
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "rm -f ~/.claude/tmp/session-changes.log"
          }
        ]
      }
    ]
  }
}
