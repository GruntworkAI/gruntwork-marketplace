{
  "description": "Lastmilefirst Overwatch - proactive checks and reminders (cross-platform)",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" session_start.py 2>/dev/null || python3 \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" session_start.py",
            "timeout": 10000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "python -c \"from pathlib import Path; d = Path.home() / '.claude' / 'tmp'; d.mkdir(parents=True, exist_ok=True); (d / 'session-changes.log').open('a').write('edit\\n')\" 2>/dev/null || python3 -c \"from pathlib import Path; d = Path.home() / '.claude' / 'tmp'; d.mkdir(parents=True, exist_ok=True); (d / 'session-changes.log').open('a').write('edit\\n')\""
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "python -c \"from pathlib import Path; d = Path.home() / '.claude' / 'tmp'; d.mkdir(parents=True, exist_ok=True); (d / 'session-changes.log').open('a').write('write\\n')\" 2>/dev/null || python3 -c \"from pathlib import Path; d = Path.home() / '.claude' / 'tmp'; d.mkdir(parents=True, exist_ok=True); (d / 'session-changes.log').open('a').write('write\\n')\""
          }
        ]
      },
      {
        "matcher": "Skill",
        "hooks": [
          {
            "type": "command",
            "command": "python \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" log_invocation.py skill 2>/dev/null || python3 \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" log_invocation.py skill"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "python \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" log_invocation.py agent 2>/dev/null || python3 \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" log_invocation.py agent"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" stop_hook.py 2>/dev/null || python3 \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/run.py\" stop_hook.py",
            "timeout": 5000
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python -c \"from pathlib import Path; (Path.home() / '.claude' / 'tmp' / 'session-changes.log').unlink(missing_ok=True)\" 2>/dev/null || python3 -c \"from pathlib import Path; (Path.home() / '.claude' / 'tmp' / 'session-changes.log').unlink(missing_ok=True)\""
          }
        ]
      }
    ]
  }
}
