---
# Required sections for project-level CLAUDE.md
# Used by organize-claude --review to check for gaps
required_sections:
  - header: "## Development Environment"
    description: "Runtime setup, start commands"
  - header: "## Infrastructure"
    description: "Cloud provider, region, account details"
  - header: "### Cloud Details"
    description: "AWS/GCP region and account table"
  - header: "### Terraform Workspaces"
    description: "Workspace to environment mapping"
  - header: "## Deployment"
    description: "Deploy commands and verification"
  - header: "## Gotchas"
    description: "Learned-the-hard-way issues table"
  - header: "## Testing"
    description: "Test commands"
---

# {{PROJECT_NAME}}

{{PROJECT_DESCRIPTION}}

---

## Development Environment

### CRITICAL: {{PRIMARY_RUNTIME}} Setup

{{RUNTIME_SETUP_INSTRUCTIONS}}

**Starting the {{PRIMARY_COMPONENT}}:**
```bash
{{START_COMMANDS}}
```

**Common issues:**
{{COMMON_DEV_ISSUES}}

### {{SECONDARY_COMPONENT}} (if applicable)
```bash
{{SECONDARY_COMMANDS}}
```

---

## Infrastructure

### CRITICAL: Check Terraform Workspace First

**Before ANY terraform command:**
```bash
terraform workspace show  # Must match your target environment!
```

See: `gruntwork-stack-wisdom/stack-wisdom/terraform-workspace-check.md`

### Cloud Details

| Setting | Value |
|---------|-------|
| **Provider** | {{CLOUD_PROVIDER}} |
| **Region** | {{CLOUD_REGION}} |
| **Account/Project** | {{CLOUD_ACCOUNT}} |

### Terraform Workspaces

| Workspace | Environment | Var File | Notes |
|-----------|-------------|----------|-------|
| dev | Development | terraform.tfvars.dev | {{DEV_NOTES}} |
| stg | Staging | terraform.tfvars.stg | {{STG_NOTES}} |
| prd | Production | terraform.tfvars.prd | {{PRD_NOTES}} |

### Architecture
{{ARCHITECTURE_SUMMARY}}

---

## Deployment

### Code Deployment (Frequent)

```bash
{{CODE_DEPLOY_COMMANDS}}
```

### Infrastructure Deployment (Rare)

```bash
# FIRST: Verify workspace!
terraform workspace show

cd {{TERRAFORM_DIR}}
terraform plan -var-file=terraform.tfvars.{{ENV}}
terraform apply -var-file=terraform.tfvars.{{ENV}}
```

### Verify Deployment

```bash
{{VERIFY_COMMANDS}}
```

### Environment URLs

| Environment | URL | Health Check |
|-------------|-----|--------------|
| dev | {{DEV_URL}} | {{DEV_HEALTH}} |
| stg | {{STG_URL}} | {{STG_HEALTH}} |
| prd | {{PRD_URL}} | {{PRD_HEALTH}} |

---

## Gotchas (Learned the Hard Way)

| Issue | Cause | Solution |
|-------|-------|----------|
| {{GOTCHA_1_ISSUE}} | {{GOTCHA_1_CAUSE}} | {{GOTCHA_1_SOLUTION}} |
| {{GOTCHA_2_ISSUE}} | {{GOTCHA_2_CAUSE}} | {{GOTCHA_2_SOLUTION}} |

---

## Testing

```bash
# Unit tests
{{UNIT_TEST_CMD}}

# Integration tests
{{INTEGRATION_TEST_CMD}}

# E2E tests
{{E2E_TEST_CMD}}
```

---

## Security Considerations

{{SECURITY_NOTES}}

---

## Project Organization

This project uses `.claude/` for work tracking:

```
.claude/
├── work/
│   ├── todos/    # Task lists
│   ├── plans/    # Implementation plans
│   └── sessions/ # Session notes
├── debt/         # Technical debt tracking
└── archive/      # Archived items
```

---

## Known Technical Debt

See `.claude/debt/KNOWN_TECHNICAL_DEBT.md` for tracked items.

---

*Inherits from ~/Code/CLAUDE.md and ~/Code/{{ORG}}/CLAUDE.md*
